<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nutrition Exam 2 — Multiple Choice Review</title>
  <style>
    body{font-family:Inter,Arial,sans-serif;background:#f9fafb;margin:0;padding:0;color:#111}
    header{background:#0ea5a4;color:#fff;padding:1rem;text-align:center}
    main{max-width:900px;margin:2rem auto;padding:1rem;background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
    h1{margin:0;font-size:1.8rem}
    .question{margin-bottom:1.2rem;padding:1rem;border:1px solid #e2e8f0;border-radius:8px}
    .question h3{margin:0 0 .5rem 0;font-size:1.1rem}
    .option{display:block;margin:.4rem 0;padding:.5rem;border:1px solid #ccc;border-radius:6px;cursor:pointer}
    .option.correct{background:#d1fae5;border-color:#10b981}
    .option.incorrect{background:#fee2e2;border-color:#ef4444}
    .actions{text-align:center;margin-top:1.5rem}
    button{background:#0ea5a4;border:none;color:#fff;padding:10px 14px;border-radius:6px;cursor:pointer;font-weight:600}
    button:hover{background:#0c8b8a}
    .results{text-align:center;margin-top:2rem;display:none}
    .results h2{color:#0ea5a4}
  </style>
</head>
<body>
  <header>
    <h1>Nutrition Exam 2 — Multiple Choice Review</h1>
    <p>Chapters 7–13 • Automatic Scoring Enabled</p>
  </header>
  <main id="quiz"></main>
  <div class="actions"><button id="submitBtn">Submit Answers</button> <button id="restartBtn" style="display:none">Restart</button></div>
  <div class="results" id="results"></div>

  <script>
    const questions = [
      {q:'What vitamin deficiency causes night blindness?', options:['Vitamin A','Vitamin D','Vitamin C','Vitamin B12'], correct:0},
      {q:'How many calories are in 1 lb of fat?', options:['3,500','2,500','1,000','4,000'], correct:0},
      {q:'Which organ metabolizes ethanol?', options:['Liver','Kidney','Stomach','Pancreas'], correct:0},
      {q:'What is the primary fuel for exercise?', options:['Carbohydrates','Protein','Fat','Alcohol'], correct:0},
      {q:'Vitamin K is essential for what function?', options:['Blood clotting','Vision','Calcium absorption','Energy metabolism'], correct:0},
      {q:'How many calories per gram are in alcohol?', options:['7','4','9','0'], correct:0},
      {q:'What is the control center of satiety?', options:['Hypothalamus','Cerebellum','Thalamus','Brainstem'], correct:0},
      {q:'Which vitamin deficiency leads to scurvy?', options:['Vitamin C','Vitamin D','Vitamin A','Vitamin B6'], correct:0},
      {q:'What is the main storage form of glucose?', options:['Glycogen','Fat','Protein','Lactic acid'], correct:0},
      {q:'Iodine deficiency causes which disorder?', options:['Goiter','Rickets','Scurvy','Anemia'], correct:0},
      {q:'What nutrient provides 4 kcal/gram?', options:['Protein','Fat','Alcohol','Fiber'], correct:0},
      {q:'Which organ stores fat-soluble vitamins?', options:['Liver','Kidney','Heart','Lungs'], correct:0},
      {q:'Marasmus is caused by:', options:['Severe protein-energy malnutrition','Vitamin deficiency','Obesity','Iron overload'], correct:0},
      {q:'Which vitamin is produced from sunlight exposure?', options:['Vitamin D','Vitamin C','Vitamin E','Vitamin B12'], correct:0},
      {q:'Which mineral deficiency can cause anemia?', options:['Iron','Zinc','Iodine','Calcium'], correct:0},
      {q:'How many calories per gram are in protein?', options:['4','7','9','2'], correct:0},
      {q:'The hypothalamus regulates:', options:['Satiety and hunger','Blood filtration','Digestive enzymes','Hormone secretion only'], correct:0},
      {q:'Hyponatremia results from:', options:['Low blood sodium','High potassium','Low calcium','Dehydration'], correct:0},
      {q:'What destroys water-soluble vitamins?', options:['Heat and light','Cold','Freezing','Fermentation'], correct:0},
      {q:'The basal metabolic rate is usually higher in:', options:['Men','Women','Children','Elderly'], correct:0}
    ];

    function shuffle(array){
      for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]]}
      return array;
    }

    const quizDiv=document.getElementById('quiz');
    let selected={};

    function buildQuiz(){
      quizDiv.innerHTML='';
      const randomized=shuffle([...questions]);
      randomized.forEach((q,idx)=>{
        const div=document.createElement('div');
        div.className='question';
        div.innerHTML=`<h3>${idx+1}. ${q.q}</h3>`;
        q.options.forEach((opt,i)=>{
          const optEl=document.createElement('div');
          optEl.className='option';
          optEl.textContent=opt;
          optEl.onclick=()=>selectOption(idx,i,optEl,randomized);
          div.appendChild(optEl);
        });
        quizDiv.appendChild(div);
      });
      return randomized;
    }

    let currentSet=buildQuiz();

    function selectOption(qIndex,optIndex,element,set){
      const options=element.parentElement.querySelectorAll('.option');
      options.forEach(o=>o.style.background='');
      element.style.background='#e0f2fe';
      selected[qIndex]=optIndex;
    }

    document.getElementById('submitBtn').onclick=()=>{
      let score=0;
      const questionDivs=document.querySelectorAll('.question');
      questionDivs.forEach((div,i)=>{
        const opts=div.querySelectorAll('.option');
        const q=currentSet[i];
        opts.forEach((opt,idx)=>{
          opt.onclick=null;
          if(idx===q.correct){opt.classList.add('correct');}
          if(selected[i]===idx && idx!==q.correct){opt.classList.add('incorrect');}
        });
        if(selected[i]===q.correct)score++;
      });
      const percent=Math.round((score/currentSet.length)*100);
      const results=document.getElementById('results');
      results.style.display='block';
      results.innerHTML=`<h2>Your Score: ${score}/${currentSet.length} (${percent}%)</h2>`;
      document.getElementById('submitBtn').style.display='none';
      document.getElementById('restartBtn').style.display='inline-block';
    };

    document.getElementById('restartBtn').onclick=()=>{
      selected={};
      document.getElementById('results').style.display='none';
      document.getElementById('submitBtn').style.display='inline-block';
      document.getElementById('restartBtn').style.display='none';
      currentSet=buildQuiz();
    };
  </script>
</body>
</html>